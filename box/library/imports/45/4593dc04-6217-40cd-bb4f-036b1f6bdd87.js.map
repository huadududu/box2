{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\src\\controller/assets\\src\\controller\\ParticleSystemCenter.js"],"names":["SC","cc","Class","extends","Object","properties","index","ctor","Dic","addParticleForNode","fileName","parentNode","nodePt","node","Node","setPosition","x","y","addChild","name","toString","replace","particleSystem","addComponent","ParticleSystem","file","url","raw","autoRemoveOnFinish","Center","module","exports"],"mappings":";;;;;;AAAA;;;;AAIA,IAAIA,KAAIC,GAAGC,KAAH,CAAS;AACbC,aAAQF,GAAGG,MADE;;AAIbC,gBAAW;AACPC,eAAM;AADC,KAJE;;AAQbC,UAAK,gBAAY;;AAEb,aAAKC,GAAL,GAAW,EAAX;AAEH,KAZY;;AAeb;AACAC,wBAAmB,4BAAUC,QAAV,EAAmBC,UAAnB,EAA8BC,MAA9B,EAAsC;;AAErD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,YAAIC,OAAO,IAAIZ,GAAGa,IAAP,EAAX;AACAD,aAAKE,WAAL,CAAiBH,OAAOI,CAAxB,EAA2BJ,OAAOK,CAAlC;AACAN,mBAAWO,QAAX,CAAoBL,IAApB;AACAA,aAAKM,IAAL,GAAY,KAAKb,KAAL,CAAWc,QAAX,EAAZ;AACA,aAAKd,KAAL;AACAI,mBAAWA,SAASW,OAAT,CAAiB,MAAjB,EAAwB,EAAxB,CAAX;AACA;AACA;AACA,YAAIC,iBAAiBT,KAAKU,YAAL,CAAkBtB,GAAGuB,cAArB,CAArB;AACAF,uBAAeG,IAAf,GAAsBxB,GAAGyB,GAAH,CAAOC,GAAP,CAAW,wBAAsBjB,QAAjC,CAAtB;AACAY,uBAAeM,kBAAf,GAAoC,IAApC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEH;;AA5DY,CAAT,CAAR;;AAmEA,IAAIC,SAAS,IAAI7B,EAAJ,EAAb;AACA8B,OAAOC,OAAP,GAAiBF,MAAjB","file":"ParticleSystemCenter.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\src\\controller","sourcesContent":["/**\r\n * Created by bing on 09/05/2018.\r\n */\r\n\r\nlet SC= cc.Class({\r\n    extends:cc.Object,\r\n\r\n\r\n    properties:{\r\n        index:0\r\n    },\r\n\r\n    ctor:function () {\r\n\r\n        this.Dic = {};\r\n\r\n    },\r\n\r\n\r\n    //\r\n    addParticleForNode:function (fileName,parentNode,nodePt) {\r\n\r\n        // let node = new cc.Node();\r\n        // // let particleSystem = node.getComponent(cc.ParticleSystem);\r\n        // // if(!particleSystem){\r\n        //     let particleSystem = node.addComponent(cc.ParticleSystem);\r\n        //     particleSystem.file = cc.url.raw(\"resources/test/\"+fileName);\r\n        // // }\r\n        //\r\n        // node.setPosition(nodePt.x,nodePt.y);\r\n        // particleSystem.autoRemoveOnFinish = true;\r\n        // particleSystem.resetSystem();\r\n\r\n\r\n        var node = new cc.Node();\r\n        node.setPosition(nodePt.x, nodePt.y);\r\n        parentNode.addChild(node);\r\n        node.name = this.index.toString();\r\n        this.index++;\r\n        fileName = fileName.replace(/\\s+/g,\"\");\r\n        // ParticleSystemCenter.addParticleForNode(\"jk_lz.plist\",cc.p(360,360));\r\n        // console.log(fileName);\r\n        let particleSystem = node.addComponent(cc.ParticleSystem);\r\n        particleSystem.file = cc.url.raw(\"resources/particle/\"+fileName);\r\n        particleSystem.autoRemoveOnFinish = true;\r\n        // particleSystem.resetSystem();\r\n        // console.log(nodePt);\r\n\r\n        // cc.loader.loadRes('particle/'+fileName, cc.ParticleAsset, function (err, atlas) {\r\n        //     if(err){\r\n        //         console.log(\"preLoadAtlas fail when load \" + fileName);\r\n        //     }else{\r\n        //         console.log(\"preLoadAtlas OK -> \" + fileName);\r\n        //         particleSystem= atlas;\r\n        //         particleSystem.autoRemoveOnFinish = true;\r\n        //         // particleSystem.resetSystem();\r\n        //     }\r\n        // });\r\n        // particleSystem.onDestroy(trackEntry =>{\r\n        //     console.log(\"particleSystem end.\", trackEntry.trackIndex, node.name);\r\n        //     }\r\n        //\r\n        // );\r\n\r\n    },\r\n\r\n\r\n\r\n});\r\n\r\n\r\nlet Center = new SC();\r\nmodule.exports = Center;"]}