{"version":3,"sources":["../../../../../assets/src/controller/assets/src/controller/ParticleSystemCenter.js"],"names":["SC","cc","Class","extends","Object","properties","index","ctor","Dic","addParticleForNode","fileName","parentNode","nodePt","node","Node","setPosition","x","y","addChild","name","toString","replace","console","log","particleSystem","addComponent","ParticleSystem","file","url","raw","autoRemoveOnFinish","Center","module","exports"],"mappings":";;;;;;AAAA;;;;AAIA,IAAIA,KAAIC,GAAGC,KAAH,CAAS;AACbC,aAAQF,GAAGG,MADE;;AAIbC,gBAAW;AACPC,eAAM;AADC,KAJE;;AAQbC,UAAK,gBAAY;;AAEb,aAAKC,GAAL,GAAW,EAAX;AAEH,KAZY;;AAeb;AACAC,wBAAmB,4BAAUC,QAAV,EAAmBC,UAAnB,EAA8BC,MAA9B,EAAsC;;AAErD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,YAAIC,OAAO,IAAIZ,GAAGa,IAAP,EAAX;AACAD,aAAKE,WAAL,CAAiBH,OAAOI,CAAxB,EAA2BJ,OAAOK,CAAlC;AACAN,mBAAWO,QAAX,CAAoBL,IAApB;AACAA,aAAKM,IAAL,GAAY,KAAKb,KAAL,CAAWc,QAAX,EAAZ;AACA,aAAKd,KAAL;AACAI,mBAAWA,SAASW,OAAT,CAAiB,MAAjB,EAAwB,EAAxB,CAAX;AACA;AACAC,gBAAQC,GAAR,CAAYb,QAAZ;AACA,YAAIc,iBAAiBX,KAAKY,YAAL,CAAkBxB,GAAGyB,cAArB,CAArB;AACAF,uBAAeG,IAAf,GAAsB1B,GAAG2B,GAAH,CAAOC,GAAP,CAAW,wBAAsBnB,QAAjC,CAAtB;AACAc,uBAAeM,kBAAf,GAAoC,IAApC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEH;;AA5DY,CAAT,CAAR;;AAmEA,IAAIC,SAAS,IAAI/B,EAAJ,EAAb;AACAgC,OAAOC,OAAP,GAAiBF,MAAjB","file":"ParticleSystemCenter.js","sourceRoot":"../../../../../assets/src/controller","sourcesContent":["/**\n * Created by bing on 09/05/2018.\n */\n\nlet SC= cc.Class({\n    extends:cc.Object,\n\n\n    properties:{\n        index:0\n    },\n\n    ctor:function () {\n\n        this.Dic = {};\n\n    },\n\n\n    //\n    addParticleForNode:function (fileName,parentNode,nodePt) {\n\n        // let node = new cc.Node();\n        // // let particleSystem = node.getComponent(cc.ParticleSystem);\n        // // if(!particleSystem){\n        //     let particleSystem = node.addComponent(cc.ParticleSystem);\n        //     particleSystem.file = cc.url.raw(\"resources/test/\"+fileName);\n        // // }\n        //\n        // node.setPosition(nodePt.x,nodePt.y);\n        // particleSystem.autoRemoveOnFinish = true;\n        // particleSystem.resetSystem();\n\n\n        var node = new cc.Node();\n        node.setPosition(nodePt.x, nodePt.y);\n        parentNode.addChild(node);\n        node.name = this.index.toString();\n        this.index++;\n        fileName = fileName.replace(/\\s+/g,\"\");\n        // ParticleSystemCenter.addParticleForNode(\"jk_lz.plist\",cc.p(360,360));\n        console.log(fileName);\n        let particleSystem = node.addComponent(cc.ParticleSystem);\n        particleSystem.file = cc.url.raw(\"resources/particle/\"+fileName);\n        particleSystem.autoRemoveOnFinish = true;\n        // particleSystem.resetSystem();\n        // console.log(nodePt);\n\n        // cc.loader.loadRes('particle/'+fileName, cc.ParticleAsset, function (err, atlas) {\n        //     if(err){\n        //         console.log(\"preLoadAtlas fail when load \" + fileName);\n        //     }else{\n        //         console.log(\"preLoadAtlas OK -> \" + fileName);\n        //         particleSystem= atlas;\n        //         particleSystem.autoRemoveOnFinish = true;\n        //         // particleSystem.resetSystem();\n        //     }\n        // });\n        // particleSystem.onDestroy(trackEntry =>{\n        //     console.log(\"particleSystem end.\", trackEntry.trackIndex, node.name);\n        //     }\n        //\n        // );\n\n    },\n\n\n\n});\n\n\nlet Center = new SC();\nmodule.exports = Center;"]}