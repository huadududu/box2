{"version":3,"sources":["../../../../../assets/src/model/assets/src/model/UIBottom.js"],"names":["AcceleratorConfig","require","ToolConfig","AttributeConfig","EfficiencyConfig","GameType","SpriteFrameCenter","LanguageConfig","config","btnPng","Global","cc","Class","extends","Component","properties","title","Label","icon","Sprite","desc_1","desc_2","btn","Button","btntext","type","visible","default","language","ID","eventcallback","onLoad","setIcon","pngname","bottomRadio","Efficiency","coin","spriteFrame","getFrameFromAtlas","setDesc_1","desc","string","setTitle","undefined","setDesc","setBtnDesc","str","setBtnVisible","bool","node","active","setBtnPng","setConfigInfo","info","callback","id","setBtnState","level","conf","thisID","confArry","unlock","indexOf","split","parseInt","hammer","ButtonState","attribute","next","needlvl","v","enabled","enableAutoGrayEffect","onClickButton"],"mappings":";;;;;;AAAA;;;AAGA,IAAIA,oBAAoBC,QAAQ,mBAAR,CAAxB;AACA,IAAIC,aAAaD,QAAQ,YAAR,CAAjB;AACA,IAAIE,kBAAkBF,QAAQ,iBAAR,CAAtB;AACA,IAAIG,mBAAmBH,QAAQ,kBAAR,CAAvB;AACA,IAAII,WAAWJ,QAAQ,UAAR,CAAf;AACA,IAAIK,oBAAoBL,QAAQ,mBAAR,CAAxB;AACA,IAAIM,iBAAiBN,QAAQ,gBAAR,CAArB;AACA,IAAMO,SAAO,CAACR,iBAAD,EAAmBE,UAAnB,EAA8BE,gBAA9B,CAAb;AACA,IAAMK,SAAO,CAAC,aAAD,EAAe,WAAf,EAA2B,WAA3B,CAAb;AACA,IAAIC,SAAST,QAAQ,QAAR,CAAb;;AAEAU,GAAGC,KAAH,CAAS;AACLC,aAAQF,GAAGG,SADN;;AAGLC,gBAAW;AACPC,eAAML,GAAGM,KADF;AAEPC,cAAKP,GAAGQ,MAFD;AAGPC,gBAAOT,GAAGM,KAHH;AAIPI,gBAAOV,GAAGM,KAJH;AAKPK,aAAIX,GAAGY,MALA;AAMPC,iBAAQb,GAAGM,KANJ;;AASPQ,cAAK;AACDC,qBAAQ,KADP;AAEDC,qBAAQ;AAFP,SATE;AAaPC,kBAAS;AACLF,qBAAQ,KADH;AAELC,qBAAQ;AAFH,SAbF;AAiBPE,YAAI;AACAH,qBAAS,KADT;AAEAC,qBAAS;AAFT,SAjBG;AAqBPG,uBAAc;AACVJ,qBAAS,KADC;AAEVC,qBAAS;AAFC;;AArBP,KAHN;AA8BLI,YAAO,kBAAU,CAEhB,CAhCI;AAiCLC,aAAQ,mBAAU;AACd,YAAIC,gBAAJ;AACA,YAAG5B,SAAS6B,WAAT,CAAqBC,UAArB,IAAmC,KAAKV,IAA3C,EAAgD;AAC5CQ,sBAAUzB,OAAO,KAAKiB,IAAZ,EAAkB,KAAKI,EAAvB,EAA2BO,IAArC;AAEH,SAHD,MAGK;AACDH,sBAAUzB,OAAO,KAAKiB,IAAZ,EAAkB,KAAKI,EAAvB,EAA2BX,IAArC;AACA,iBAAKA,IAAL,CAAUmB,WAAV,GAAwB/B,kBAAkBgC,iBAAlB,CAAoC,SAApC,EAA8CL,UAAQ,MAAtD,CAAxB;AACH;AACJ,KA1CI;AA2CLM,eAAU,qBAAW;AACjB,YAAIC,OAAQhC,OAAO,KAAKiB,IAAZ,EAAkB,KAAKI,EAAvB,EAA2BW,IAAvC;AACA,aAAKpB,MAAL,CAAYqB,MAAZ,GAAqBD,IAArB;AACH,KA9CI;AA+CLE,cAAS,oBAAW;AAChB,YAAI1B,QAASR,OAAO,KAAKiB,IAAZ,EAAkB,KAAKI,EAAvB,EAA2Bb,KAAxC;AACA,YAAGA,SAAS,IAAT,IAAiBA,SAAS2B,SAA7B,EAAuC;AACnC3B,oBAAQ,QAAR;AACH,SAFD,MAEM,IAAGT,eAAeS,KAAf,KAAyBT,eAAeS,KAAf,EAAsB,KAAKY,QAA3B,CAA5B,EAAiE;;AAEnEZ,oBAAQT,eAAeS,KAAf,EAAsB,KAAKY,QAA3B,CAAR;AACH;AACD,aAAKZ,KAAL,CAAWyB,MAAX,GAAoBzB,KAApB;AACH,KAxDI;AAyDL4B,aAAQ,mBAAU;AACd,YAAIJ,OAAQhC,OAAO,KAAKiB,IAAZ,EAAkB,KAAKI,EAAvB,EAA2BW,IAAvC;AACA,YAAGA,QAAQ,IAAR,IAAgBxB,SAAS2B,SAA5B,EAAsC;AAClCH,mBAAO,QAAP;AACH,SAFD,MAEO,IAAGjC,eAAeiC,IAAf,KAAwBjC,eAAeiC,IAAf,EAAqB,KAAKZ,QAA1B,CAA3B,EAA+D;;AAElEY,mBAAOjC,eAAeiC,IAAf,EAAqB,KAAKZ,QAA1B,CAAP;AACH;AACD,aAAKR,MAAL,CAAYqB,MAAZ,GAAqBD,IAArB;AACH,KAlEI;AAmELK,gBAAW,oBAASC,GAAT,EAAa;AACpB,aAAKtB,OAAL,CAAaiB,MAAb,GAAsBK,GAAtB;AAEH,KAtEI;AAuELC,mBAAc,uBAASC,IAAT,EAAc;AACxB,aAAK1B,GAAL,CAAS2B,IAAT,CAAcC,MAAd,GAAsBF,IAAtB;AACH,KAzEI;AA0ELG,eAAU,mBAAS1B,IAAT,EAAc;AACpB,aAAKH,GAAL,CAAS2B,IAAT,CAAcZ,WAAd,GAA4B/B,kBAAkBgC,iBAAlB,CAAoC,SAApC,EAA8C7B,OAAOgB,IAAP,IAAa,MAA3D,CAA5B;AAEH,KA7EI;AA8EL2B,mBAAc,uBAAU3B,IAAV,EAAe4B,IAAf,EAAoBC,QAApB,EAA6B;AACvC,aAAK7B,IAAL,GAAYA,IAAZ;AACA,aAAKI,EAAL,GAAUwB,KAAKE,EAAf;AACA,aAAKb,QAAL;AACA,aAAKV,OAAL;AACA,aAAKO,SAAL;AACA,aAAKM,UAAL;AACA,aAAKE,aAAL,CAAmB,IAAnB;AACA,aAAKI,SAAL,CAAe,CAAf;AACA,aAAKrB,aAAL,GAAqBwB,QAArB;AACA,aAAKE,WAAL;AACH,KAzFI;AA0FLA,iBAAY,uBAAU;AAClB,YAAIC,QAAQ/C,OAAO+C,KAAnB;AACA,YAAG,KAAKhC,IAAL,IAAa,CAAhB,EAAkB;AACd,gBAAIiC,OAAOxD,WAAW,KAAK2B,EAAhB,CAAX;AACA,gBAAI8B,eAAJ;AACA,gBAAIC,iBAAJ;AACA,gBAAG,YAAYF,IAAf,EAAoB;AAChB,oBAAGA,KAAKG,MAAL,CAAYC,OAAZ,CAAoB,GAApB,KAA4B,CAAC,CAAhC,EAAkC;AAC9BF,+BAAWF,KAAKG,MAAL,CAAYE,KAAZ,CAAkB,GAAlB,CAAX;AACAJ,6BAAOC,SAAS,CAAT,CAAP;AACH,iBAHD,MAGK;AACDD,6BAAOK,SAASN,KAAKG,MAAd,CAAP;AACH;;AAED,oBAAGF,UAAU,CAAb,EAAe;AACX,wBAAGjD,OAAOuD,MAAP,CAAc,KAAKpC,EAAnB,KAA0B,IAA1B,IAAkCnB,OAAOuD,MAAP,CAAc,KAAKpC,EAAnB,KAA2Bc,SAAhE,EAA0E;AAAC;AACvE,6BAAKuB,WAAL,CAAiB,CAAjB;AACA;AACH;AACD,wBAAIC,YAAazD,OAAOuD,MAAP,CAAc,KAAKpC,EAAnB,EAAuBsC,SAAxC;AACA,wBAAGhE,gBAAgBgE,SAAhB,EAA2BC,IAA3B,IAAmC,CAAC,CAAvC,EAAyC;AAAC;AACtC,6BAAKF,WAAL,CAAiB,CAAjB;AACA,6BAAK1C,OAAL,CAAaiB,MAAb,GAAsB,KAAtB;AACH,qBAHD,MAII;AACA,6BAAKyB,WAAL,CAAiB,CAAjB;AACH;AACJ,iBAbD,MAaM,IAAGP,UAAU,CAAb,EAAe;AACjB,wBAAGjD,OAAOuD,MAAP,CAAc,KAAKpC,EAAnB,KAA0B,IAA1B,IAAkCnB,OAAOuD,MAAP,CAAc,KAAKpC,EAAnB,KAA2Bc,SAAhE,EAA0E;AAAC;AACvE,6BAAKuB,WAAL,CAAiB,CAAjB;AACA;AACH;AACD,wBAAIC,aAAazD,OAAOuD,MAAP,CAAc,KAAKpC,EAAnB,EAAuBsC,SAAxC;AACA,wBAAGhE,gBAAgBgE,UAAhB,EAA2BC,IAA3B,IAAmC,CAAC,CAAvC,EAAyC;AAAC;AACtC,6BAAKF,WAAL,CAAiB,CAAjB;AACA,6BAAK1C,OAAL,CAAaiB,MAAb,GAAsB,KAAtB;AACA;AACH,qBAJD,MAKI;AACA,6BAAKyB,WAAL,CAAiB,CAAjB;AACA;AACH;AAEJ,iBAhBK,MAgBA,IAAGP,UAAU,CAAb,EAAe;AACjB,wBAAIU,UAAUT,SAAS,CAAT,CAAd;AACA,wBAAGH,QAAMY,OAAT,EAAiB;AACb,6BAAKH,WAAL,CAAiB,CAAjB;AACA;AACH;AACD,wBAAGxD,OAAOuD,MAAP,CAAc,KAAKpC,EAAnB,KAA0B,IAA1B,IAAkCnB,OAAOuD,MAAP,CAAc,KAAKpC,EAAnB,KAA2Bc,SAAhE,EAA0E;AAAC;AACvE,6BAAKuB,WAAL,CAAiB,CAAjB;AACA,6BAAK1C,OAAL,CAAaiB,MAAb,GAAsB,KAAtB;AACA;AACH;AACD,wBAAI0B,cAAazD,OAAOuD,MAAP,CAAc,KAAKpC,EAAnB,EAAuBsC,SAAxC;AACA,wBAAGhE,gBAAgBgE,WAAhB,EAA2BC,IAA3B,IAAmC,CAAC,CAAvC,EAAyC;AAAC;AACtC,6BAAKF,WAAL,CAAiB,CAAjB;AACA,6BAAK1C,OAAL,CAAaiB,MAAb,GAAsB,KAAtB;AACA;AACH,qBAJD,MAKI;AACA,6BAAKyB,WAAL,CAAiB,CAAjB;AACA;AACH;AAEJ,iBAtBK,MAsBA,IAAGP,UAAU,CAAb,EAAe;AACjB,wBAAGjD,OAAOuD,MAAP,CAAc,KAAKpC,EAAnB,KAA0B,IAA1B,IAAkCnB,OAAOuD,MAAP,CAAc,KAAKpC,EAAnB,KAA2Bc,SAAhE,EAA0E;AAAC;AACvE,6BAAKuB,WAAL,CAAiB,CAAjB;AACA;AACH;AACD,wBAAIC,cAAazD,OAAOuD,MAAP,CAAc,KAAKpC,EAAnB,EAAuBsC,SAAxC;AACA,wBAAGhE,gBAAgBgE,WAAhB,EAA2BC,IAA3B,IAAmC,CAAC,CAAvC,EAAyC;AAAC;AACtC,6BAAKF,WAAL,CAAiB,CAAjB;AACA,6BAAK1C,OAAL,CAAaiB,MAAb,GAAsB,KAAtB;AACA;AACH,qBAJD,MAKI;AACA,6BAAKyB,WAAL,CAAiB,CAAjB;AACA;AACH;AAEJ;AAEJ;AACJ;AACJ,KA/KI;AAgLLA,iBAAY,qBAASI,CAAT,EAAW;AACnB,YAAGA,KAAK,CAAR,EAAU;AACN,iBAAKhD,GAAL,CAASiD,OAAT,GAAmB,IAAnB;AACA,iBAAKjD,GAAL,CAASkD,oBAAT,GAAgC,IAAhC;AACH,SAHD,MAGK;AACD,iBAAKlD,GAAL,CAASiD,OAAT,GAAmB,KAAnB;AACA,iBAAKjD,GAAL,CAASkD,oBAAT,GAAgC,KAAhC;AACH;AACJ,KAxLI;AAyLLC,mBAAc,yBAAU;AACpB,aAAK3C,aAAL,CAAmB,KAAKL,IAAxB,EAA6B,KAAKI,EAAlC;AACH;AA3LI,CAAT","file":"UIBottom.js","sourceRoot":"../../../../../assets/src/model","sourcesContent":["/*\n * Created by Ren on 2018/6/7.\n */\nlet AcceleratorConfig = require(\"AcceleratorConfig\");\nlet ToolConfig = require(\"ToolConfig\");\nlet AttributeConfig = require(\"AttributeConfig\");\nlet EfficiencyConfig = require(\"EfficiencyConfig\");\nlet GameType = require(\"GameType\");\nlet SpriteFrameCenter = require(\"SpriteFrameCenter\");\nlet LanguageConfig = require(\"LanguageConfig\");\nconst config=[AcceleratorConfig,ToolConfig,EfficiencyConfig];\nconst btnPng=[\"btn_juhuang\",\"btn_lanse\",\"btn_heise\"];\nlet Global = require(\"Global\");\n\ncc.Class({\n    extends:cc.Component,\n\n    properties:{\n        title:cc.Label,\n        icon:cc.Sprite,\n        desc_1:cc.Label,\n        desc_2:cc.Label,\n        btn:cc.Button,\n        btntext:cc.Label,\n\n\n        type:{\n            visible:false,\n            default:2\n        },\n        language:{\n            visible:false,\n            default:\"English\"\n        },\n        ID: {\n            visible: false,\n            default: 1\n        },\n        eventcallback:{\n            visible: false,\n            default: null\n        }\n\n    },\n    onLoad:function(){\n\n    },\n    setIcon:function(){\n        let pngname;\n        if(GameType.bottomRadio.Efficiency == this.type){\n            pngname = config[this.type][this.ID].coin;\n\n        }else{\n            pngname = config[this.type][this.ID].icon;\n            this.icon.spriteFrame = SpriteFrameCenter.getFrameFromAtlas(\"png/box\",pngname+\".png\");\n        }\n    },\n    setDesc_1:function() {\n        let desc  = config[this.type][this.ID].desc;\n        this.desc_1.string = desc;\n    },\n    setTitle:function (){\n        let title  = config[this.type][this.ID].title;\n        if(title == null || title == undefined){\n            title = \"unknow\";\n        }else if(LanguageConfig[title] && LanguageConfig[title][this.language]){\n\n            title = LanguageConfig[title][this.language];\n        }\n        this.title.string = title;\n    },\n    setDesc:function(){\n        let desc  = config[this.type][this.ID].desc;\n        if(desc == null || title == undefined){\n            desc = \"unknow\";\n        }else  if(LanguageConfig[desc] && LanguageConfig[desc][this.language]){\n\n            desc = LanguageConfig[desc][this.language];\n        }\n        this.desc_1.string = desc;\n    },\n    setBtnDesc:function(str){\n        this.btntext.string = str;\n\n    },\n    setBtnVisible:function(bool){\n        this.btn.node.active= bool;\n    },\n    setBtnPng:function(type){\n        this.btn.node.spriteFrame = SpriteFrameCenter.getFrameFromAtlas(\"png/box\",btnPng[type]+\".png\");\n\n    },\n    setConfigInfo:function (type,info,callback){\n        this.type = type;\n        this.ID = info.id;\n        this.setTitle();\n        this.setIcon();\n        this.setDesc_1();\n        this.setBtnDesc();\n        this.setBtnVisible(true);\n        this.setBtnPng(1);\n        this.eventcallback = callback;\n        this.setBtnState();\n    },\n    setBtnState:function(){\n        let level = Global.level;\n        if(this.type == 1){\n            let conf = ToolConfig[this.ID];\n            let thisID;\n            let confArry;\n            if(\"unlock\" in conf){\n                if(conf.unlock.indexOf(\";\") != -1){\n                    confArry = conf.unlock.split(\";\");\n                    thisID=confArry[0];\n                }else{\n                    thisID=parseInt(conf.unlock);\n                }\n\n                if(thisID == 0){\n                    if(Global.hammer[this.ID] == null || Global.hammer[this.ID]  == undefined){//没有激活\n                        this.ButtonState(1);\n                        return;\n                    }\n                    let attribute =  Global.hammer[this.ID].attribute;\n                    if(AttributeConfig[attribute].next == -1){//达到最大\n                        this.ButtonState(0);\n                        this.btntext.string = \"max\";\n                    }\n                    else{\n                        this.ButtonState(1);\n                    }\n                }else if(thisID == 1){\n                    if(Global.hammer[this.ID] == null || Global.hammer[this.ID]  == undefined){//没有激活(没有判断 type =1)\n                        this.ButtonState(1);\n                        return;\n                    }\n                    let attribute =  Global.hammer[this.ID].attribute;\n                    if(AttributeConfig[attribute].next == -1){//达到最大\n                        this.ButtonState(0);\n                        this.btntext.string = \"max\";\n                        return;\n                    }\n                    else{\n                        this.ButtonState(1);\n                        return;\n                    }\n\n                }else if(thisID == 2){\n                    let needlvl = confArry[1];\n                    if(level<needlvl){\n                        this.ButtonState(0);\n                        return;\n                    }\n                    if(Global.hammer[this.ID] == null || Global.hammer[this.ID]  == undefined){//没有激活(没有判断 type =1)\n                        this.ButtonState(1);\n                        this.btntext.string = \"max\";\n                        return;\n                    }\n                    let attribute =  Global.hammer[this.ID].attribute;\n                    if(AttributeConfig[attribute].next == -1){//达到最大\n                        this.ButtonState(0);\n                        this.btntext.string = \"max\";\n                        return ;\n                    }\n                    else{\n                        this.ButtonState(1);\n                        return;\n                    }\n\n                }else if(thisID == 3){\n                    if(Global.hammer[this.ID] == null || Global.hammer[this.ID]  == undefined){//没有激活(没有判断 type =1)\n                        this.ButtonState(1);\n                        return;\n                    }\n                    let attribute =  Global.hammer[this.ID].attribute;\n                    if(AttributeConfig[attribute].next == -1){//达到最大\n                        this.ButtonState(0);\n                        this.btntext.string = \"max\";\n                        return\n                    }\n                    else{\n                        this.ButtonState(1);\n                        return;\n                    }\n\n                }\n\n            }\n        }\n    },\n    ButtonState:function(v){\n        if(v == 1){\n            this.btn.enabled = true;\n            this.btn.enableAutoGrayEffect = true;\n        }else{\n            this.btn.enabled = false;\n            this.btn.enableAutoGrayEffect = false;\n        }\n    },\n    onClickButton:function(){\n        this.eventcallback(this.type,this.ID);\n    }\n})"]}