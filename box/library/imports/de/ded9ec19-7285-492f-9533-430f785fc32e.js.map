{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\src\\utils/assets\\src\\utils\\JSExtends.js"],"names":["BingLog","require","module","exports","Array","prototype","contains","obj","i","Object","keys","length","remove","splice","Date","AddDays","number","adjustDate","getTime","AddHours","AddMinutes","AddSeconds","DayOfYear","start","getFullYear","diff","oneDay","day","Math","floor","cc","loader","getRes","url","type","item","_cache","uuid","_getResUuid","ref","_getReferenceKey","alias","complete","content","dumpNodes","onlyroot","arguments","rootNode","path","director","getScene","cNodes","getChildren","node","currentPath","_name","log","getChildrenCount","mypt","name","console","find","getPosition","cachedTextureInfo","sys","isNative","ret","textureCache","getCachedTextureInfo","AllTextures","getAllTextures","texture","getPixelWidth","getPixelHeight","pixelFormat"],"mappings":"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","file":"JSExtends.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\src\\utils","sourcesContent":["/**\r\n * Created by bing on 14/02/2017.\r\n * JSExtends\r\n */\r\n\r\nlet BingLog = require(\"BingLog\");\r\n\r\nmodule.exports = function(){\r\n\r\n    Array.prototype.contains = function(obj) {\r\n        var i = Object.keys(this).length; //this.length;\r\n        while (i--) {\r\n            if (this[i] === obj) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n\r\n    Array.prototype.remove = function(obj) {\r\n        var i = this.length;\r\n        while (i--) {\r\n            if (this[i] === obj) {\r\n                this.splice(i,1);\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n    //Date\r\n    Date.prototype.AddDays = function(number)\r\n    {\r\n        var adjustDate = new Date(this.getTime() + 24*60*60*1000*number)\r\n        return adjustDate;\r\n    };\r\n\r\n    Date.prototype.AddHours = function(number)\r\n    {\r\n        var adjustDate = new Date(this.getTime() + 60*60*1000*number)\r\n        return adjustDate;\r\n    };\r\n\r\n    Date.prototype.AddMinutes = function(number)\r\n    {\r\n        var adjustDate = new Date(this.getTime() + 60*1000*number)\r\n        return adjustDate;\r\n    };\r\n\r\n    Date.prototype.AddSeconds = function(number)\r\n    {\r\n        var adjustDate = new Date(this.getTime() + 1000*number)\r\n        return adjustDate;\r\n    };\r\n\r\n    Date.prototype.DayOfYear = function () {\r\n        var start = new Date(this.getFullYear(), 0, 0);\r\n        var diff = this - start;\r\n        var oneDay = 1000 * 60 * 60 * 24;\r\n        var day = Math.floor(diff / oneDay);\r\n        return day;\r\n    };\r\n\r\n    //bug fix for 1.4.2 getRes\r\n    cc.loader.getRes = function (url, type) {\r\n        var item = this._cache[url];\r\n        if (!item) {\r\n            var uuid = this._getResUuid(url, type, true);\r\n            if (uuid) {\r\n                var ref = this._getReferenceKey(uuid);\r\n                item = this._cache[ref];\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        }\r\n        if (item && item.alias) {\r\n            item = this._cache[item.alias];\r\n        }\r\n        return (item && item.complete) ? item.content : null;\r\n    };\r\n\r\n    //onlyroot true只显示当前节点下。\r\n    //rootNode 需要打印节点。默认是场景的根节点。\r\n    //path 显示路径。可选。\r\n    cc.dumpNodes = function() {\r\n        let onlyroot = arguments[0];\r\n        let rootNode = arguments[1];\r\n        let path = arguments[2];\r\n        if(!rootNode){\r\n            rootNode = cc.director.getScene();\r\n        }\r\n        if(!path){\r\n            path=\"\";\r\n        }\r\n\r\n        var cNodes = rootNode.getChildren();\r\n        for(var i = 0; i< cNodes.length;++i){\r\n            var node = cNodes[i];\r\n            let currentPath = path + '/' + node._name;\r\n            BingLog.log(currentPath);\r\n            if(onlyroot){\r\n                if(node.getChildrenCount()>0){\r\n                    cc.dumpNodes(onlyroot,node,currentPath);\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    cc.mypt = function(name){\r\n        console.log(name,cc.find(name).getPosition());\r\n    };\r\n\r\n    cc.cachedTextureInfo = function () {\r\n        BingLog.log('native:', cc.sys.isNative);\r\n        if (cc.sys.isNative) {\r\n            let ret = cc.textureCache.getCachedTextureInfo();\r\n            BingLog.log(\"dump:\\n\", ret);\r\n            // jsb.textureCache.getCachedTextureInfo();\r\n        }\r\n        else {\r\n            let AllTextures = cc.textureCache.getAllTextures();\r\n            for (let i = 0; i < AllTextures.length; ++i) {\r\n                let texture = AllTextures[i];\r\n                BingLog.log(texture.name, texture.getPixelWidth(), texture.getPixelHeight(), texture.pixelFormat);\r\n            }\r\n        }\r\n    }\r\n\r\n}();"]}