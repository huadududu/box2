{"version":3,"sources":["GameMenuController.js"],"names":["GameMenuView","require","UIBottomFactory","AcceleratorConfig","ToolConfig","EfficiencyConfig","LevelConfig","LanguageConfig","GameUtils","Global","UILeadFactory","cc","Class","extends","Component","properties","bottomlist","Node","scrollView","ScrollView","level","Label","gold","gem","toplist","TopProgressBar","ProgressBar","practice","radioButton","default","type","Toggle","levelupBtn","Button","thisCheck","visible","radiotext","BoxController","onLoad","config","itemList","btnColor","itemlistNum","string","language","levelLeadNode","initInfo","setGoldNum","setLevel","setGem","hard","exp","setProgress","addUIBottom","undefined","startpos","i","length","j","node","create","eventcallback","bind","position","p","addChild","push","single","needlength","width","num","strnum","formatNum","value","pro","progress","addLevelLead","interactable","bool","isValid","destroy","changeHammerSpine","data","updateDate","name","updateButtom","scrollEvent","sender","event","thispos","getScrollOffset","movex","x","num1","num2","setCheckToggle","radioButtonClicked","toggle","index","indexOf","scrollToOffset","num0","color","onClickLevel","btnType","upgradView","active","id","getComponent","setBtnState","onCallBackFriends","prefab","loader","getRes","newNode","instantiate"],"mappings":"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","file":"GameMenuController.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\src\\controller","sourcesContent":["/*\r\n * Created by Ren on 2018/6/6.\r\n */\r\nlet GameMenuView = require('GameMenuView');\r\nlet UIBottomFactory = require(\"UIBottomFactory\");\r\nlet AcceleratorConfig = require(\"AcceleratorConfig\");\r\nlet ToolConfig = require(\"ToolConfig\");\r\nlet EfficiencyConfig = require(\"EfficiencyConfig\");\r\nlet LevelConfig = require(\"LevelConfig\");\r\nlet LanguageConfig = require(\"LanguageConfig\");\r\nlet GameUtils = require(\"GameUtils\");\r\nlet Global = require('Global');\r\nlet UILeadFactory = require(\"UILeadFactory\");\r\n\r\ncc.Class({\r\n    extends:cc.Component,\r\n    properties:{\r\n        bottomlist:cc.Node,\r\n        scrollView: cc.ScrollView,\r\n        level: cc.Label,\r\n        gold:cc.Label,\r\n        gem:cc.Label,\r\n        toplist:cc.Node,\r\n        TopProgressBar:cc.ProgressBar,\r\n        practice:cc.Node,\r\n        radioButton:{\r\n            default:[],\r\n            type:cc.Toggle\r\n        },\r\n        levelupBtn:cc.Button,\r\n        thisCheck:{\r\n            visible:false,\r\n            default:0\r\n        },\r\n        radiotext:{\r\n            default:[],\r\n            type:cc.Label\r\n        },\r\n        BoxController: require(\"BoxController\")\r\n\r\n    },\r\n\r\n    onLoad:function(){\r\n\r\n        this.config=[AcceleratorConfig,ToolConfig,EfficiencyConfig];\r\n        this.itemList=[];\r\n        this.btnColor=['#ffa30f','#f9f9f9'];\r\n        this.itemlistNum=[];\r\n        this.radiotext[0].string = LanguageConfig['10035'][Global.language];\r\n        this.radiotext[1].string = LanguageConfig['10036'][Global.language];\r\n        this.radiotext[2].string = LanguageConfig['10037'][Global.language];\r\n        this.levelLeadNode=null;//level的引导节点\r\n\r\n    },\r\n    initInfo:function() {\r\n        this.setGoldNum(Global.gold);\r\n        this.setLevel(Global.level);\r\n        this.setGem(Global.gem);\r\n        let hard = Global.hard;\r\n\r\n        let exp = LevelConfig[Global.level].exp;\r\n        this.setProgress(Global.exp/exp);\r\n\r\n    },\r\n    addUIBottom:function(){\r\n        if(this.config == undefined)\r\n        {\r\n            this.config=[AcceleratorConfig,ToolConfig,EfficiencyConfig];\r\n        }\r\n        this.itemList=[];\r\n        let startpos = 0;\r\n\r\n        for(var i = 0;i < this.config.length;i++){\r\n            var j = 1;\r\n            for(; this.config[i][j] != undefined;j++){\r\n                let node = UIBottomFactory.create(i,this.config[i][j],this.eventcallback.bind(this));\r\n                node.position = cc.p(startpos+75,0);\r\n                this.bottomlist.addChild(node);\r\n                this.itemList.push(node);\r\n                startpos+=156;\r\n            }\r\n            this.itemlistNum[i]=j-1;\r\n\r\n        }\r\n        let single = this.itemlistNum[this.itemlistNum.length-1];\r\n        if(single<7){\r\n            startpos+=(7-single)*156;\r\n        }\r\n        let needlength = startpos+156;\r\n        this.bottomlist.width = needlength;\r\n        // this.bottomlist.x = needlength/2;\r\n\r\n\r\n    },\r\n\r\n    //设置金币\r\n    setGoldNum: function (num) {\r\n        let strnum = GameUtils.formatNum(num);\r\n        this.gold.string = strnum;\r\n    },\r\n    setLevel: function (level) {\r\n        this.level.string = \"LEVEL\"+level;\r\n    },\r\n    setGem: function (value){\r\n        this.gem.string = value;\r\n    },\r\n    setProgress: function (value){\r\n        let pro = this.TopProgressBar.progress;\r\n        this.addLevelLead(value>=1);\r\n        if (pro  == 1.0 && value ==1)\r\n            return;\r\n        this.levelupBtn.interactable = value>=1;\r\n\r\n        this.TopProgressBar.progress = value;\r\n    },\r\n\r\n    addLevelLead:function(bool){\r\n        if(Global.level ==1 && bool){\r\n            if(!this.levelLeadNode){\r\n                let node = UILeadFactory.create();\r\n                node.position= this.levelupBtn.node.position;\r\n                // node.ratation = 270;\r\n                this.levelLeadNode = node;\r\n                this.toplist.addChild(node);\r\n            }\r\n        }else{\r\n            if(this.levelLeadNode && cc.isValid(this.levelLeadNode)){\r\n                this.levelLeadNode.destroy();\r\n                // this.levelLeadNode= null;\r\n            }\r\n        }\r\n    },\r\n    changeHammerSpine:function(data){\r\n        this.BoxController.changeHammerSpine(data);\r\n    },\r\n    updateDate:function (data){\r\n        if(data == null)\r\n            return;\r\n        for( var name in data) {\r\n            if (name == 'exp') {\r\n                let exp = LevelConfig[Global.level].exp;\r\n                let pro = data.exp / exp;\r\n                if (pro > 1)\r\n                    pro = 1;\r\n\r\n                this.setProgress(pro);\r\n            }\r\n            if (name == \"level\") {\r\n\r\n                this.setLevel(data.level);\r\n            }\r\n            if (name == \"gold\") {\r\n                this.setGoldNum(data.gold);\r\n            }\r\n            if(name == 'gem'){\r\n                this.setGem(data.gem);\r\n            }\r\n        }\r\n        if (name == \"level\" || name == \"gold\" || name == 'gem' ){\r\n            this.updateButtom();\r\n        }\r\n    },\r\n    scrollEvent: function(sender, event) {\r\n        let thispos= sender.getScrollOffset();\r\n        let movex = -thispos.x;\r\n        let num1= this.itemlistNum[0]*156 - 6;\r\n        let num2 = num1+this.itemlistNum[1]*156 - 6;\r\n        if(movex <num1){\r\n            this.setCheckToggle(0);\r\n        }else if(movex <num2){\r\n            this.setCheckToggle(1);\r\n\r\n        }else{\r\n            this.setCheckToggle(2);\r\n        }\r\n    },\r\n\r\n    radioButtonClicked: function(toggle) {\r\n        var index = this.radioButton.indexOf(toggle);\r\n        // var title = \"RadioButton\";\r\n        switch(index) {\r\n            case 0:\r\n                // title += \"1\";\r\n                this.scrollView.scrollToOffset(cc.p(0 , 0), 0.2);\r\n                break;\r\n            case 1:\r\n                let num0= this.itemlistNum[0]*156;\r\n                this.scrollView.scrollToOffset(cc.p( num0, 0), 0.2);\r\n                // title += \"2\";\r\n                break;\r\n            case 2:\r\n                let num1= (this.itemlistNum[0]+this.itemlistNum[1])*156;\r\n                this.scrollView.scrollToOffset(cc.p( num1, 0), 0.2);\r\n                // title += \"3\";\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        // this.setCheckToggle(index);\r\n    },\r\n\r\n    setCheckToggle: function(num) {\r\n        if( this.thisCheck == num )\r\n            return;\r\n        this.thisCheck= num;\r\n        for( let i=0;i < this.radioButton.length;i++)\r\n        {\r\n            if(i == num){\r\n                // this.radioButton[i].isChecked = true;\r\n                this.radiotext[i].node.color = new cc.color(this.btnColor[0]);\r\n            }\r\n            else{\r\n                // this.radioButton[i].isChecked = false;\r\n                this.radiotext[i].node.color =new cc.color(this.btnColor[1]);\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    //点击升级按钮\r\n    onClickLevel:function(){\r\n        if(this.TopProgressBar.progress >=1){\r\n            Global.btnType = 'uplevel';\r\n            this.BoxController.upgradView.active = true;\r\n\r\n        }\r\n    },\r\n    eventcallback: function(type, id,string=null) {\r\n\r\n        this.BoxController.eventcallback(type,id,string);\r\n\r\n    },\r\n    updateButtom:function(){\r\n        for(let i=0;i<this.itemList.length;i++){\r\n            let node = this.itemList[i].getComponent(\"UIBottom\");\r\n            node.setBtnState();\r\n        }\r\n    },\r\n    onCallBackFriends:function () {\r\n\r\n        let prefab = cc.loader.getRes(\"prefab/inviteUI\");\r\n        let newNode= cc.instantiate(prefab);\r\n        this.node.addChild(newNode);\r\n    },\r\n\r\n\r\n});"]}