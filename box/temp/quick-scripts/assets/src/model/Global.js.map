{"version":3,"sources":["Global.js"],"names":["cc","_RF","push","module","GameConfig","require","exports","lc","high","cls","Class","properties","hard","level","gold","gem","exp","hammer","default","initInfo","get","v","parseInt","bind","JSON","parse","saveLevel","h","set","saveHard","saveExp","saveHammer","stringify","saveGold","saveGem","instance","pop"],"mappings":"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","file":"Global.js","sourceRoot":"../../../../../assets/src/model","sourcesContent":["\"use strict\";\ncc._RF.push(module, '4d84cHfepJMm5hdOQQhmuG8', 'Global');\n// src/model/Global.js\n\n\"use strict\";\n\n/*\n * Created by Ren on 2018/6/11.\n */\n\nvar GameConfig = require(\"GameConfig\");\nmodule.exports = function () {\n\n    var lc = require(\"LocalStorage\");\n    var high = 'high';\n\n    var cls = cc.Class({\n        properties: {\n            hard: 1,\n            level: 1,\n            gold: 1,\n            gem: 1,\n            exp: 1,\n            hammer: {\n                default: {}\n            }\n\n        },\n\n        initInfo: function initInfo() {\n            this.hard = 1;\n\n            lc.get('level', 1, function (v) {\n                if (typeof v == \"string\") {\n                    this.level = parseInt(v);\n                } else if (typeof v == \"number\") {\n                    this.level = v;\n                } else {\n                    this.level = 0;\n                }\n            }.bind(this));\n            lc.get('gold', 1, function (v) {\n                if (typeof v == \"string\") {\n                    this.gold = parseInt(v);\n                } else if (typeof v == \"number\") {\n                    this.gold = v;\n                } else {\n                    this.gold = 0;\n                }\n            }.bind(this));\n\n            lc.get('hammer', null, function (v) {\n                if (v != null) {\n                    this.hammer = JSON.parse(v);\n                } else {\n                    this.hammer = {};\n                }\n            }.bind(this));\n            lc.get('exp', 0, function (v) {\n                if (typeof v == \"string\") {\n                    this.exp = parseInt(v);\n                } else if (typeof v == \"number\") {\n                    this.exp = v;\n                } else {\n                    this.exp = 0;\n                }\n            }.bind(this));\n            lc.get('gem', 0, function (v) {\n                if (typeof v == \"string\") {\n                    this.gem = parseInt(v);\n                } else if (typeof v == \"number\") {\n                    this.gem = v;\n                } else {\n                    this.gem = 0;\n                }\n            }.bind(this));\n        },\n        saveLevel: function saveLevel(h) {\n\n            lc.set('level', h);\n            this.level = h;\n        },\n        saveHard: function saveHard(h) {\n            lc.set('hard', h);\n            this.hard = h;\n        },\n        saveExp: function saveExp(h) {\n            lc.set('exp', h);\n            this.exp = h;\n        },\n        saveHammer: function saveHammer(hammer) {\n            lc.set('hammer', JSON.stringify(hammer));\n            this.hammer = hammer;\n        },\n        saveGold: function saveGold(gold) {\n            lc.set('gold', gold);\n            this.gold = gold;\n        },\n        saveGem: function saveGem(gem) {\n            lc.set('gem', gem);\n            this.gem = gem;\n        }\n    });\n    var instance = new cls();\n    return instance;\n}();\n\ncc._RF.pop();"]}