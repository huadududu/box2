{"version":3,"sources":["RewardItem.js"],"names":["GameType","require","ItemConfig","Global","SpriteFrameCenter","cc","Class","extends","Component","properties","type","default","profabType","RewardItem","override","visible","icon","Sprite","text","Label","pngID","onLoad","setIconPng","reward","startnum","indexOf","rewardarry","split","valuestr","valueArr","i","length","level","parseInt","string","spriteFrame","getFrameFromAtlas","setFinish","node","active"],"mappings":";;;;;;AAAA;;;AAGA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACA,IAAIC,aAAaD,QAAQ,YAAR,CAAjB;AACA,IAAIE,SAASF,QAAQ,QAAR,CAAb;AACA,IAAIG,oBAAoBH,QAAQ,mBAAR,CAAxB;AACAI,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,cAAM;AACFC,qBAASX,SAASY,UAAT,CAAoBC,UAD3B;AAEFC,sBAAU,IAFR;AAGFC,qBAAS;AAHP,SADE;AAMRC,cAAKX,GAAGY,MANA;AAORC,cAAKb,GAAGc,KAPA;AAQRC,eAAM;AACFL,qBAAQ,KADN;AAEFJ,qBAAQ;AAFN;;AARE,KAHP;AAiBLU,YAAO,kBAAU,CAChB,CAlBI;AAmBLC,gBAAY,oBAASC,MAAT,EAAgB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,YAAIC,WAAS,CAAb;AACA,YAAID,OAAOE,OAAP,CAAe,GAAf,KAAuB,CAAC,CAA5B,EAA+B;AAC3B,gBAAIC,aAAaH,OAAOI,KAAP,CAAa,GAAb,CAAjB;AACA,iBAAKP,KAAL,GAAaM,WAAW,CAAX,CAAb;AACA,gBAAIE,WAAWF,WAAW,CAAX,CAAf;AACA,gBAAIG,iBAAJ;AACA,gBAAGD,SAASH,OAAT,CAAiB,GAAjB,KAAyB,CAAC,CAA7B,EAA+B;AAC3BI,2BAAWD,SAASD,KAAT,CAAe,GAAf,CAAX;AACAH,2BAAWK,SAAS,CAAT,CAAX;AACA,qBAAI,IAAIC,IAAI,CAAZ,EAAcA,IAAED,SAASE,MAAzB,EAAgCD,GAAhC,EAAoC;AAChC,wBAAGD,SAASC,CAAT,KAAe,IAAlB,EAAuB;AACnBN,oCAAUrB,OAAO6B,KAAjB;AACH;AACJ;AACJ,aARD,MAQK;AACDR,2BAAWS,SAASL,QAAT,CAAX;AACH;AACJ;AACD,aAAKV,IAAL,CAAUgB,MAAV,GAAmB,MAAIV,QAAvB;AACA,aAAKR,IAAL,CAAUmB,WAAV,GAAwB/B,kBAAkBgC,iBAAlB,CAAoC,SAApC,EAA8ClC,WAAW,KAAKkB,KAAhB,EAAuBJ,IAAvB,GAA4B,MAA1E,CAAxB;AACH,KA9CI;AA+CLqB,eAAU,qBAAU;AAChB,aAAKnB,IAAL,CAAUoB,IAAV,CAAeC,MAAf,GAAuB,IAAvB;AACH;;AAjDI,CAAT","file":"RewardItem.js","sourceRoot":"../../../../../assets/src/model","sourcesContent":["/*\n * Created by Ren on 2018/6/12.\n */\nlet GameType = require(\"GameType\");\nlet ItemConfig = require('ItemConfig');\nlet Global = require('Global');\nlet SpriteFrameCenter = require('SpriteFrameCenter');\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        type: {\n            default: GameType.profabType.RewardItem,\n            override: true,\n            visible: false,\n        },\n        icon:cc.Sprite,\n        text:cc.Label,\n        pngID:{\n            visible:false,\n            default:0\n        }\n\n    },\n    onLoad:function(){\n    },\n    setIconPng: function(reward){\n        // if(reward.indexOf(\";\") != -1){\n        //     let rewardarry = reward.split(\";\");\n        //     this.pngID = rewardarry[0];\n        //     this.text.string = \"+\"+rewardarry[1];\n        //     this.text.node.active= false;\n        // }\n        let startnum=0;\n        if (reward.indexOf(\";\") != -1) {\n            let rewardarry = reward.split(\";\");\n            this.pngID = rewardarry[0];\n            let valuestr = rewardarry[1];\n            let valueArr;\n            if(valuestr.indexOf('*') != -1){\n                valueArr = valuestr.split(\"*\");\n                startnum = valueArr[0];\n                for(let i = 1;i<valueArr.length;i++){\n                    if(valueArr[i] == \"lv\"){\n                        startnum*=Global.level;\n                    }\n                }\n            }else{\n                startnum = parseInt(valuestr);\n            }\n        }\n        this.text.string = \"+\"+startnum;\n        this.icon.spriteFrame = SpriteFrameCenter.getFrameFromAtlas(\"png/box\",ItemConfig[this.pngID].icon+\".png\");\n    },\n    setFinish:function(){\n        this.text.node.active= true;\n    }\n\n});"]}