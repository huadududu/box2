{"version":3,"sources":["UIBottom.js"],"names":["AcceleratorConfig","require","ToolConfig","AttributeConfig","EfficiencyConfig","GameType","SpriteFrameCenter","LanguageConfig","config","Global","GameUtils","cc","Class","extends","Component","properties","title","Label","icon","Sprite","iconLabel","desc_1","btn","Button","progressBar","ProgressBar","btntext","iconGem","iconlead","type","visible","default","language","ID","eventcallback","checkisrun","lockState","onLoad","GameState","init","setIcon","pngname","bool","bottomRadio","Efficiency","node","active","iconpng","locked","spriteFrame","getFrameFromAtlas","time","jumptime","formatDayTest","string","setBtnIcon","num","btnname","normalSprite","pressedSprite","hoverSprite","setDesc_1","desc","attnum","hammer","attribute","speed","formatPrint","coin","att","setTitle","undefined","setBtnVisible","setConfigInfo","info","callback","id","setBtnState","setType0BtnState","setType1BtnState","setType2BtnState","setLeadState","btntextColor","conf","formatTime","color","Color","progress","self","unschedule","schedule","level","thisID","confArry","unlock","indexOf","split","parseInt","needlvl","str","inviteFriends","next","conf1","costtype","gold","cost","formatNum","ButtonState","efficiency","timeleft","saveEfficiency","gem","v","interactable","onClickButton","arguments","length","oStr","i","replace","jumpstr","Math","floor"],"mappings":"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","file":"UIBottom.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\src\\model","sourcesContent":["/*\r\n * Created by Ren on 2018/6/7.\r\n */\r\nlet AcceleratorConfig = require(\"AcceleratorConfig\");\r\nlet ToolConfig = require(\"ToolConfig\");\r\nlet AttributeConfig = require(\"AttributeConfig\");\r\nlet EfficiencyConfig = require(\"EfficiencyConfig\");\r\nlet GameType = require(\"GameType\");\r\nlet SpriteFrameCenter = require(\"SpriteFrameCenter\");\r\nlet LanguageConfig = require(\"LanguageConfig\");\r\nconst config=[AcceleratorConfig,ToolConfig,EfficiencyConfig];\r\nlet Global = require(\"Global\");\r\nlet GameUtils = require(\"GameUtils\");\r\n\r\ncc.Class({\r\n    extends:cc.Component,\r\n\r\n    properties:{\r\n        title:cc.Label,\r\n        icon:cc.Sprite,\r\n        iconLabel:cc.Label,\r\n        desc_1:cc.Label,\r\n        btn:cc.Button,\r\n        progressBar:cc.ProgressBar,\r\n        btntext:cc.Label,\r\n        iconGem:cc.Sprite,\r\n        iconlead:cc.Sprite,\r\n        type:{\r\n            visible:false,\r\n            default:2\r\n        },\r\n        language:{\r\n            visible:false,\r\n            default:\"English\"\r\n        },\r\n        ID: {\r\n            visible: false,\r\n            default: 1\r\n        },\r\n        eventcallback:{\r\n            visible: false,\r\n            default: null\r\n        },\r\n        checkisrun:{\r\n            visible:false,\r\n            default:false\r\n        },\r\n        lockState:{\r\n            visible:false,\r\n            default:false\r\n        },\r\n        // GameState:{\r\n        //     visible:false,\r\n        //     default:2\r\n        // }\r\n\r\n    },\r\n    onLoad:function(){\r\n        //0 can't active 1: can active 2:have active but can't upgrad,3:have active but can't upgrad,4:max\r\n        this.GameState = 2;\r\n    },\r\n    init: function(){\r\n    },\r\n\r\n    setIcon:function(){\r\n        let pngname;\r\n        var bool = GameType.bottomRadio.Efficiency == this.type;\r\n        this.icon.node.active = !bool;\r\n        this.iconLabel.node.active = bool;\r\n        if(this.GameState == 0 ){\r\n            let iconpng = config[this.type][this.ID].locked;\r\n            this.icon.spriteFrame = SpriteFrameCenter.getFrameFromAtlas(\"png/box\",iconpng+\".png\");\r\n            return;\r\n        }\r\n        if(bool){\r\n            let time = config[this.type][this.ID].time;\r\n            if(time >0){\r\n                pngname = \"X\"+time;\r\n            }else{\r\n                let jumptime = config[this.type][this.ID].jumptime;\r\n                pngname = this.formatDayTest(jumptime);\r\n                // pngname = \"x\"+config[this.type][this.ID].jumptime;\r\n            }\r\n            this.iconLabel.string =pngname;\r\n\r\n        }else{\r\n                pngname = config[this.type][this.ID].icon;\r\n            this.icon.spriteFrame = SpriteFrameCenter.getFrameFromAtlas(\"png/box\",pngname+\".png\");\r\n        }\r\n    },\r\n    setBtnIcon:function(num){\r\n        this.btnname=['btn_heise','btn_juhuang','btn_lanse'];\r\n        // this.btn.sp.spriteFrame =SpriteFrameCenter.getFrameFromAtlas(\"png/box\",this.btnname[num]+\".png\");\r\n        this.btn.normalSprite =SpriteFrameCenter.getFrameFromAtlas(\"png/box\",this.btnname[num]+\".png\");\r\n        this.btn.pressedSprite =SpriteFrameCenter.getFrameFromAtlas(\"png/box\",this.btnname[num]+\".png\");\r\n        this.btn.hoverSprite =SpriteFrameCenter.getFrameFromAtlas(\"png/box\",this.btnname[num]+\".png\");\r\n    },\r\n    setDesc_1:function() {\r\n        let desc;\r\n        let attnum;\r\n        this.desc_1.node.active = this.GameState != 0 ;\r\n        if(this.type != 1){\r\n            desc = config[this.type][this.ID].desc;\r\n        }else{\r\n\r\n            if(Global.hammer[this.ID] != null){\r\n                attnum = Global.hammer[this.ID].attribute;\r\n            }else{\r\n                attnum =config[this.type][this.ID].attribute;\r\n            }\r\n            desc = AttributeConfig[attnum].desc;\r\n\r\n        }\r\n        if(!desc){\r\n            this.desc_1.string = \"config fault\";\r\n            return;\r\n        }\r\n        if(LanguageConfig[desc] && LanguageConfig[desc][Global.language]){\r\n            desc=  LanguageConfig[desc][Global.language];\r\n        }\r\n        if(this.type == 0 ){\r\n            if(config[this.type][this.ID].speed>0)\r\n                desc= this.formatPrint(desc,config[this.type][this.ID].speed,config[this.type][this.ID].coin);\r\n            else\r\n                desc= this.formatPrint(desc,config[this.type][this.ID].coin);\r\n        }else if(this.type == 1){\r\n            desc= this.formatPrint(desc,AttributeConfig[attnum].att,AttributeConfig[attnum].time);\r\n\r\n        }else{\r\n            if(config[this.type][this.ID].time>0){\r\n                desc= this.formatPrint(desc,config[this.type][this.ID].time);\r\n            }else{\r\n                desc= this.formatPrint(desc,config[this.type][this.ID].jumptime);\r\n            }\r\n        }\r\n        this.desc_1.string = desc;\r\n    },\r\n    setTitle:function (){\r\n        this.title.node.active =  this.GameState != 0 ;\r\n        let title  = config[this.type][this.ID].title;\r\n        if(title == null || title == undefined){\r\n            title = \"unknow\";\r\n        }else if(LanguageConfig[title] && LanguageConfig[title][Global.language]){\r\n\r\n            title = LanguageConfig[title][Global.language];\r\n        }\r\n        if(this.type == 2 &&config[this.type][this.ID].coin>0){\r\n\r\n            title=this.formatPrint(title,config[this.type][this.ID].coin);\r\n        }\r\n        this.title.string = title;\r\n    },\r\n    setBtnVisible:function(bool){\r\n        this.btn.node.active= bool;\r\n    },\r\n    setConfigInfo:function (type,info,callback){\r\n        this.type = type;\r\n        this.ID = info.id;\r\n\r\n        // this.setBtnVisible(true);\r\n        this.eventcallback = callback;\r\n        this.setBtnState();\r\n        if(this.type ==1){\r\n            this.setBtnIcon(2);\r\n        }else if(this.type == 1){\r\n            this.setBtnIcon(1);\r\n\r\n        }\r\n    },\r\n    setBtnState:function(){\r\n\r\n        switch(this.type){\r\n            case 0:\r\n                this.setType0BtnState();\r\n                break;\r\n            case 1:\r\n                this.setType1BtnState();\r\n                break;\r\n            case 2:\r\n\r\n                this.setType2BtnState();\r\n\r\n                break;\r\n        }\r\n        this.setTitle();\r\n        this.setDesc_1();\r\n        this.setIcon();\r\n        this.setLeadState();\r\n\r\n    },\r\n    setType0BtnState:function(){\r\n        if(this.checkisrun)\r\n            return;\r\n        let btntextColor=['#000000','#ffffff',];\r\n        let conf = AcceleratorConfig[this.ID];\r\n        let bool = Global['bar'+this.ID] <= 0;\r\n        if(bool){\r\n            this.btntext.string =GameUtils.formatTime(conf.time);\r\n            this.btntext.node.color = new cc.Color(btntextColor[1]);\r\n        }else{\r\n            this.btntext.string =GameUtils.formatTime(Global['bar'+this.ID]);\r\n            this.btntext.node.color = new cc.Color(btntextColor[0]);\r\n        }\r\n        this.btn.node.active = bool;\r\n        this.progressBar.node.active = !bool;\r\n        this.progressBar.progress = Global['bar'+this.ID]/conf.time;\r\n        let self = this;\r\n        this.callback = function(){\r\n            Global['bar'+self.ID]--;\r\n            self.btntext.string = GameUtils.formatTime(Global['bar'+self.ID]);\r\n\r\n            self.progressBar.progress = Global['bar'+this.ID]/conf.time;\r\n            if(Global['bar'+self.ID] <=0){\r\n\r\n                this.unschedule(this.callback);\r\n                this.checkisrun= false;\r\n                self.eventcallback(this.type,self.ID,'finish');\r\n            }\r\n\r\n        }\r\n        if(!bool){\r\n            this.checkisrun= true;\r\n            this.schedule(this.callback,1)\r\n        }\r\n    },\r\n    setType1BtnState:function(){\r\n        let level = Global.level;\r\n        let conf = ToolConfig[this.ID];\r\n        let thisID;\r\n        let confArry;\r\n        if(\"unlock\" in conf){\r\n            if(conf.unlock.indexOf(\";\") != -1){\r\n                confArry = conf.unlock.split(\";\");\r\n                thisID=confArry[0];\r\n            }else{\r\n                thisID=parseInt(conf.unlock);\r\n            }\r\n            if(thisID == -1) {\r\n                return;\r\n            }\r\n            let active = false;\r\n            if(Global.hammer[this.ID] == null || Global.hammer[this.ID]  == undefined){//没有激活\r\n                let iconpng = config[this.type][this.ID].locked;\r\n                if(thisID == 0){//点击激活\r\n\r\n                    // this.btntext.string=\"touch active\";\r\n                    this.btntext.string= LanguageConfig['10020'][Global.language];\r\n                    if(this.ID == 1){\r\n                        // this.ButtonState(1);\r\n\r\n                    }else{\r\n                        if(Global.hammer[this.ID-1]){\r\n                            // this.ButtonState(1);\r\n                            // this.lockState = false;\r\n                        }else{\r\n                            // this.ButtonState(0);\r\n                            // this.lockState = true;\r\n                        }\r\n                    }\r\n                    this.GameState = 1;\r\n                }else if(thisID == 1){//视频激励\r\n                    // this.btntext.string = \"n:\"+thisID+\"c:\"+Global.openAdTimes;\r\n                    this.btntext.string= LanguageConfig['10022'][Global.language];\r\n                    if(Global.hammer[this.ID-1]){\r\n                        // this.ButtonState(1);\r\n                         this.GameState = 1;\r\n                        this.lockState = false;\r\n                    }else{\r\n                        // this.ButtonState(0);\r\n                        this.GameState = 0;\r\n                        // this.lockState = true;\r\n                    }\r\n                }else if(thisID == 2){//等级激活\r\n                    let needlvl = confArry[1];\r\n                    if(level<needlvl){\r\n                        // this.ButtonState(0);\r\n                        this.GameState = 0;\r\n                        // this.lockState = true;\r\n                       let str= LanguageConfig['10021'][Global.language];\r\n                        // this.btntext.string='Lv'+needlvl;\r\n                         this.btntext.string=this.formatPrint(str,needlvl);\r\n                    }else{\r\n                        if(Global.hammer[this.ID-1]){\r\n                            // this.ButtonState(1);\r\n                            this.GameState = 1;\r\n                            // this.lockState = false;\r\n                        }else{\r\n                            // this.ButtonState(0);\r\n                            this.GameState = 0;\r\n                            // this.lockState = true;\r\n                        }\r\n                        // this.btntext.string=\"touchactive\";\r\n                        this.btntext.string= LanguageConfig['10020'][Global.language];\r\n                    }\r\n                }else if(thisID == 3){//邀请好友\r\n                    // this.btntext.string = \"n:\"+confArry[1]+\"c:\"+Global.inviteFriends;\r\n                    if(Global.inviteFriends == 0){\r\n                        this.btntext.string= LanguageConfig['10023'][Global.language];\r\n                    }else if(confArry[1]>Global.inviteFriends){\r\n                        this.btntext.string= Global.inviteFriends+'／'+confArry[1];\r\n                    }else{//邀请的数量够\r\n                        this.btntext.string= LanguageConfig['10020'][Global.language];\r\n                    }\r\n                    if(Global.hammer[this.ID-1]){\r\n                        // this.ButtonState(1);\r\n                        this.GameState = 1;\r\n                        // this.lockState = false;\r\n                    }else{\r\n                        // this.ButtonState(0);\r\n                        this.GameState = 0;\r\n                        // this.lockState = true;\r\n                    }\r\n                }\r\n            } else if(  AttributeConfig[Global.hammer[this.ID].attribute].next == -1){//达到最大\r\n                // this.ButtonState(0);\r\n                this.GameState = 4;\r\n                this.btntext.string = LanguageConfig['10024'][Global.language];\r\n                // this.lockState = false;\r\n            }\r\n            else {//升级条件\r\n                // this.lockState = false;\r\n                let conf1 = AttributeConfig[Global.hammer[this.ID].attribute];\r\n                if (conf1.costtype = 1001) {\r\n                    if (Global.gold > conf1.cost) {\r\n                        // this.ButtonState(1);\r\n                         this.GameState = 3;\r\n                    } else {\r\n                        // this.ButtonState(0);\r\n                        this.GameState = 2;\r\n                    }\r\n                    this.btntext.string = GameUtils.formatNum(conf1.cost);\r\n                }\r\n            }\r\n\r\n        }\r\n        this.ButtonState();\r\n\r\n    },\r\n    setType2BtnState:function(){\r\n        let bool = Global.efficiency[this.ID] != undefined && Global.efficiency[this.ID] != null;\r\n        let conf = EfficiencyConfig[this.ID];\r\n        this.btn.node.active = !bool;\r\n        this.progressBar.node.active = bool;\r\n        if(bool){\r\n            let timeleft = Global.efficiency[this.ID].timeleft;\r\n            let bool= timeleft>0;\r\n            if( timeleft>0){\r\n                let self = this;\r\n                self.btntext.string = GameUtils.formatTime(timeleft*60);\r\n                self.progressBar.progress =  timeleft/conf.time;\r\n                this.callback = function(){\r\n                    if(Global.efficiency[this.ID] != null){\r\n                        timeleft = Global.efficiency[this.ID].timeleft;\r\n                        timeleft=parseInt(timeleft-1);\r\n                        self.btntext.string = GameUtils.formatTime(timeleft*60);\r\n                        self.progressBar.progress =  timeleft/conf.time;\r\n                        if(timeleft >0){\r\n                            Global.efficiency[this.ID].timeleft-=1;\r\n                            Global.saveEfficiency(Global.efficiency);\r\n                        }else {\r\n                            Global.efficiency[this.ID] = null;\r\n                            Global.saveEfficiency(Global.efficiency);\r\n                            this.checkisrun= false;\r\n                            this.unschedule(this.callback);\r\n                            self.eventcallback(this.type,self.ID,'finish');\r\n\r\n                        }\r\n                    }\r\n                }\r\n                if(!this.checkisrun && bool){\r\n                    this.checkisrun = true;\r\n                    this.schedule(this.callback,60);\r\n                }\r\n            }\r\n            this.iconGem.node.active = false;\r\n        }else{\r\n\r\n            if(conf.costtype == 1002){\r\n                if(Global.gem>= conf.cost){\r\n                    // this.ButtonState(1);\r\n                    this.GameState = 3;\r\n                }\r\n                else{\r\n                    // this.ButtonState(0);\r\n                    this.GameState = 2;\r\n                }\r\n                this.btntext.string = GameUtils.formatNum(conf.cost);\r\n                this.iconGem.node.active = true;\r\n            }\r\n        }\r\n        this.ButtonState();\r\n    },\r\n    //this.GameState = 1.3是可以点击的\r\n    ButtonState:function(){\r\n        let v=  this.GameState == 1 || this.GameState==3;\r\n        if(v){\r\n            this.btn.interactable = true;\r\n        }else{\r\n            this.btn.interactable = false;\r\n        }\r\n    },\r\n    onClickButton:function(){\r\n        this.eventcallback(this.type,this.ID);\r\n    },\r\n    formatPrint:function() {\r\n        var num = arguments.length;\r\n\r\n        var oStr = arguments[0];\r\n\r\n        for (var i = 1; i < num; i++) {\r\n            oStr = oStr.replace(/s%/, arguments[i]);\r\n        }\r\n\r\n        return oStr;\r\n    },\r\n    formatDayTest:function(jumptime) {\r\n        let str = \"\";\r\n        let jumpstr = \"\";\r\n        if (jumptime >= 24) {\r\n            str = LanguageConfig['10025'][Global.language];\r\n            str = this.formatPrint(str, Math.floor(jumptime / 24));\r\n            jumpstr += str;\r\n            jumptime %= 24;\r\n\r\n        }\r\n        if (jumptime > 0) {\r\n            str = LanguageConfig['10019'][Global.language];\r\n            str = this.formatPrint(str, jumptime);\r\n            jumpstr += str;\r\n        }\r\n        return jumpstr;\r\n    },\r\n    setLeadState:function(){\r\n        this.iconlead.node.active = this.GameState == 1;\r\n    }\r\n})"]}