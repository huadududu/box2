{"version":3,"sources":["UIBottom.js"],"names":["AcceleratorConfig","require","ToolConfig","AttributeConfig","EfficiencyConfig","GameType","SpriteFrameCenter","LanguageConfig","config","Global","GameUtils","cc","Class","extends","Component","properties","title","Label","icon","Sprite","iconLabel","desc_1","btn","Button","progressBar","ProgressBar","btntext","iconGem","type","visible","default","language","ID","eventcallback","checkisrun","onLoad","init","setIcon","pngicon","pngname","bool","bottomRadio","Efficiency","node","active","time","jumptime","formatDayTest","string","spriteFrame","getFrameFromAtlas","setBtnIcon","num","btnname","normalSprite","pressedSprite","hoverSprite","setDesc_1","desc","attnum","hammer","attribute","speed","formatPrint","coin","att","setTitle","undefined","setBtnVisible","setConfigInfo","info","callback","id","setBtnState","setType0BtnState","setType1BtnState","setType2BtnState","btntextColor","conf","formatTime","color","Color","progress","self","unschedule","schedule","level","thisID","confArry","unlock","indexOf","split","parseInt","iconpng","locked","ButtonState","needlvl","str","inviteFriends","next","conf1","costtype","gold","cost","formatNum","find","efficiency","gem","v","interactable","onClickButton","arguments","length","oStr","i","replace","jumpstr","Math","floor"],"mappings":"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","file":"UIBottom.js","sourceRoot":"../../../../../assets/src/model","sourcesContent":["/*\n * Created by Ren on 2018/6/7.\n */\nlet AcceleratorConfig = require(\"AcceleratorConfig\");\nlet ToolConfig = require(\"ToolConfig\");\nlet AttributeConfig = require(\"AttributeConfig\");\nlet EfficiencyConfig = require(\"EfficiencyConfig\");\nlet GameType = require(\"GameType\");\nlet SpriteFrameCenter = require(\"SpriteFrameCenter\");\nlet LanguageConfig = require(\"LanguageConfig\");\nconst config=[AcceleratorConfig,ToolConfig,EfficiencyConfig];\nlet Global = require(\"Global\");\nlet GameUtils = require(\"GameUtils\");\n\ncc.Class({\n    extends:cc.Component,\n\n    properties:{\n        title:cc.Label,\n        icon:cc.Sprite,\n        iconLabel:cc.Label,\n        desc_1:cc.Label,\n        btn:cc.Button,\n        progressBar:cc.ProgressBar,\n        btntext:cc.Label,\n        iconGem:cc.Sprite,\n\n        type:{\n            visible:false,\n            default:2\n        },\n        language:{\n            visible:false,\n            default:\"English\"\n        },\n        ID: {\n            visible: false,\n            default: 1\n        },\n        eventcallback:{\n            visible: false,\n            default: null\n        },\n        checkisrun:{\n            visible:false,\n            default:false\n        }\n\n    },\n    onLoad:function(){\n    },\n    init: function(){\n    },\n\n    setIcon:function(pngicon = null){\n        let pngname;\n        var bool = GameType.bottomRadio.Efficiency == this.type;\n        this.icon.node.active = !bool;\n        this.iconLabel.node.active = bool;\n        if(bool){\n            if(pngicon != null){\n                pngname = pngicon;\n            }else{\n                let time = config[this.type][this.ID].time;\n                if(time >0){\n                    pngname = \"X\"+time;\n                }else{\n                    let jumptime = config[this.type][this.ID].jumptime;\n                    pngname = this.formatDayTest(jumptime);\n                    // pngname = \"x\"+config[this.type][this.ID].jumptime;\n                }\n            }\n            this.iconLabel.string =pngname;\n\n        }else{\n            if(pngicon != null){\n                pngname = pngicon;\n            }else{\n                pngname = config[this.type][this.ID].icon;\n            }\n            this.icon.spriteFrame = SpriteFrameCenter.getFrameFromAtlas(\"png/box\",pngname+\".png\");\n        }\n    },\n    setBtnIcon:function(num){\n        this.btnname=['btn_heise','btn_juhuang','btn_lanse'];\n        // this.btn.sp.spriteFrame =SpriteFrameCenter.getFrameFromAtlas(\"png/box\",this.btnname[num]+\".png\");\n        this.btn.normalSprite =SpriteFrameCenter.getFrameFromAtlas(\"png/box\",this.btnname[num]+\".png\");\n        this.btn.pressedSprite =SpriteFrameCenter.getFrameFromAtlas(\"png/box\",this.btnname[num]+\".png\");\n        this.btn.hoverSprite =SpriteFrameCenter.getFrameFromAtlas(\"png/box\",this.btnname[num]+\".png\");\n    },\n    setDesc_1:function() {\n        let desc;\n        let attnum;\n        if(this.type != 1){\n            desc = config[this.type][this.ID].desc;\n        }else{\n\n            if(Global.hammer[this.ID] != null){\n                attnum = Global.hammer[this.ID].attribute;\n            }else{\n                attnum =config[this.type][this.ID].attribute;\n            }\n            desc = AttributeConfig[attnum].desc;\n\n        }\n        if(!desc){\n            this.desc_1.string = \"config fault\";\n            return;\n        }\n        if(LanguageConfig[desc] && LanguageConfig[desc][this.language]){\n            desc=  LanguageConfig[desc][this.language];\n        }\n        if(this.type == 0 ){\n            if(config[this.type][this.ID].speed>0)\n                desc= this.formatPrint(desc,config[this.type][this.ID].speed,config[this.type][this.ID].coin);\n            else\n                desc= this.formatPrint(desc,config[this.type][this.ID].coin);\n        }else if(this.type == 1){\n            desc= this.formatPrint(desc,AttributeConfig[attnum].att,AttributeConfig[attnum].time);\n\n        }else{\n            if(config[this.type][this.ID].time>0){\n                desc= this.formatPrint(desc,config[this.type][this.ID].time);\n            }else{\n                desc= this.formatPrint(desc,config[this.type][this.ID].jumptime);\n            }\n        }\n        this.desc_1.string = desc;\n    },\n    setTitle:function (){\n        let title  = config[this.type][this.ID].title;\n        if(title == null || title == undefined){\n            title = \"unknow\";\n        }else if(LanguageConfig[title] && LanguageConfig[title][this.language]){\n\n            title = LanguageConfig[title][this.language];\n        }\n        if(this.type == 2 &&config[this.type][this.ID].coin>0){\n\n            title=this.formatPrint(title,config[this.type][this.ID].coin);\n        }\n        this.title.string = title;\n    },\n    setBtnVisible:function(bool){\n        this.btn.node.active= bool;\n    },\n    setConfigInfo:function (type,info,callback){\n        this.type = type;\n        this.ID = info.id;\n        this.setTitle();\n        this.setDesc_1();\n        this.setIcon();\n        // this.setBtnVisible(true);\n        this.eventcallback = callback;\n        this.setBtnState();\n        if(this.type ==1){\n            this.setBtnIcon(2);\n        }else if(this.type == 1){\n            this.setBtnIcon(1);\n\n        }\n    },\n    setBtnState:function(){\n\n        switch(this.type){\n            case 0:\n                this.setType0BtnState();\n                break;\n            case 1:\n                this.setType1BtnState();\n                break;\n            case 2:\n\n                this.setType2BtnState();\n\n                break;\n        }\n\n    },\n    setType0BtnState:function(){\n        if(this.checkisrun)\n            return;\n        let btntextColor=['#000000','#ffffff',];\n        let conf = AcceleratorConfig[this.ID];\n        let bool = Global['bar'+this.ID] <= 0;\n        if(bool){\n            this.btntext.string =GameUtils.formatTime(conf.time);\n            this.btntext.node.color = new cc.Color(btntextColor[1]);\n        }else{\n            this.btntext.string =GameUtils.formatTime(Global['bar'+this.ID]);\n            this.btntext.node.color = new cc.Color(btntextColor[0]);\n        }\n        this.btn.node.active = bool;\n        this.progressBar.node.active = !bool;\n        this.progressBar.progress = Global['bar'+this.ID]/conf.time;\n        let self = this;\n        this.callback = function(){\n            Global['bar'+self.ID]--;\n            self.btntext.string = GameUtils.formatTime(Global['bar'+self.ID]);\n\n            self.progressBar.progress = Global['bar'+this.ID]/conf.time;\n            if(Global['bar'+self.ID] <=0){\n\n                this.unschedule(this.callback);\n                this.checkisrun= false;\n                self.eventcallback(this.type,self.ID,'finish');\n            }\n\n        }\n        if(!bool){\n            this.checkisrun= true;\n            this.schedule(this.callback,1)\n        }\n    },\n    setType1BtnState:function(){\n        let level = Global.level;\n        let conf = ToolConfig[this.ID];\n        let thisID;\n        let confArry;\n        if(\"unlock\" in conf){\n            if(conf.unlock.indexOf(\";\") != -1){\n                confArry = conf.unlock.split(\";\");\n                thisID=confArry[0];\n            }else{\n                thisID=parseInt(conf.unlock);\n            }\n            if(thisID == -1) {\n                return;\n            }\n            let active = false;\n            if(Global.hammer[this.ID] == null || Global.hammer[this.ID]  == undefined){//没有激活\n                let iconpng = config[this.type][this.ID].locked;\n                this.setIcon(iconpng);\n                if(thisID == 0){//点击激活\n                    this.ButtonState(1);\n                    // this.btntext.string=\"touch active\";\n                    this.btntext.string= LanguageConfig['10020'][this.language];\n\n                }else if(thisID == 1){//视频激励\n                    // this.btntext.string = \"n:\"+thisID+\"c:\"+Global.openAdTimes;\n                    this.btntext.string= LanguageConfig['10022'][this.language];\n                    this.title.node.active = false;\n                }else if(thisID == 2){//等级激活\n                    let needlvl = confArry[1];\n                    if(level<needlvl){\n                        this.ButtonState(0);\n                       let str= LanguageConfig['10021'][this.language];\n                        // this.btntext.string='Lv'+needlvl;\n                         this.btntext.string=this.formatPrint(str,needlvl);\n                        this.title.node.active = false;\n                    }else{\n                        this.ButtonState(1);\n                        // this.btntext.string=\"touchactive\";\n                        this.btntext.string= LanguageConfig['10020'][this.language];\n                    }\n                    this.title.node.active = false;\n                }else if(thisID == 3){//邀请好友\n                    // this.btntext.string = \"n:\"+confArry[1]+\"c:\"+Global.inviteFriends;\n                    if(Global.inviteFriends == 0){\n                        this.btntext.string= LanguageConfig['10023'][this.language];\n                    }else if(confArry[1]>Global.inviteFriends){\n                        this.btntext.string= Global.inviteFriends+'／'+confArry[1];\n                    }else{//邀请的数量够\n                        this.btntext.string= LanguageConfig['10020'][this.language];\n                    }\n                    this.title.node.active = false;\n                }\n            } else if(  AttributeConfig[Global.hammer[this.ID].attribute].next == -1){//达到最大\n                this.ButtonState(0);\n                // this.btntext.string = \"max\";\n                this.btntext.string = LanguageConfig['10024'][this.language];\n                this.setIcon();\n            }\n            else{//升级条件\n                this.title.node.active = true;\n                let conf1= AttributeConfig[Global.hammer[this.ID].attribute];\n                if(conf1.costtype = 1001){\n                    if(Global.gold>conf1.cost){\n                        this.ButtonState(1);\n                    }else{\n                        this.ButtonState(0);\n                    }\n                    this.btntext.string = GameUtils.formatNum(conf1.cost);\n                }\n                this.setIcon();\n            }\n\n\n        }\n        this.setDesc_1();\n    },\n    setType2BtnState:function(){\n        let find = false;\n        if(Global.efficiency[this.ID]){\n            this.ButtonState(0);\n            this.btntext.string =\"max\";\n        }else{\n            let conf = EfficiencyConfig[this.ID];\n            if(conf.costtype == 1002){\n                if(Global.gem>= conf.cost){\n                    this.ButtonState(1);\n                }\n                else{\n                    this.ButtonState(0);\n                }\n                this.btntext.string = GameUtils.formatNum(conf.cost);\n                this.iconGem.node.active = true;\n            }\n        }\n    },\n    //1 可以点击  0 不可以点击\n    ButtonState:function(v){\n        if(v == 1){\n            this.btn.interactable = true;\n        }else{\n            this.btn.interactable = false;\n        }\n    },\n    onClickButton:function(){\n        this.eventcallback(this.type,this.ID);\n    },\n    formatPrint:function() {\n        var num = arguments.length;\n\n        var oStr = arguments[0];\n\n        for (var i = 1; i < num; i++) {\n            oStr = oStr.replace(/s%/, arguments[i]);\n        }\n\n        return oStr;\n    },\n    formatDayTest:function(jumptime) {\n        let str = \"\";\n        let jumpstr=\"\";\n        if(jumptime>=24){\n            str = LanguageConfig['10025'][this.language];\n            str=this.formatPrint(str,Math.floor(jumptime/24));\n            jumpstr+= str;\n            jumptime%=24;\n\n        }\n        if(jumptime>0){\n            str = LanguageConfig['10019'][this.language];\n            str=this.formatPrint(str,jumptime);\n            jumpstr+= str;\n        }\n        return jumpstr;\n    }\n\n\n})"]}