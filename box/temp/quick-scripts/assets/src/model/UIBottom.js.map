{"version":3,"sources":["UIBottom.js"],"names":["AcceleratorConfig","require","ToolConfig","AttributeConfig","EfficiencyConfig","GameType","SpriteFrameCenter","LanguageConfig","config","Global","GameUtils","cc","Class","extends","Component","properties","title","Label","icon","Sprite","iconLabel","desc_1","btn","Button","progressBar","ProgressBar","btntext","iconGem","iconlead","Node","icon_gold","type","visible","default","language","ID","eventcallback","checkisrun","lockState","onLoad","GameState","init","setIcon","pngname","bool","bottomRadio","Efficiency","node","active","iconpng","locked","spriteFrame","getFrameFromAtlas","coin","x","jumptime","formatDayTest","string","setBtnIcon","num","btnname","normalSprite","pressedSprite","hoverSprite","setDesc_1","desc","attnum","hammer","attribute","speed","formatPrint","att","time","setTitle","undefined","setBtnVisible","setConfigInfo","info","callback","id","setBtnState","setType0BtnState","setType1BtnState","setType2BtnState","setLeadState","btntextColor","conf","formatTime","color","Color","progress","self","unschedule","schedule","level","thisID","confArry","unlock","indexOf","split","parseInt","openAdTimes","needlvl","str","freindsInfo","length","next","conf1","costtype","gold","cost","formatNumMAX","ButtonState","efficiency","timeleft","saveEfficiency","gem","formatNum","v","interactable","onClickButton","arguments","oStr","i","replace","jumpstr","Math","floor"],"mappings":"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","file":"UIBottom.js","sourceRoot":"../../../../../assets/src/model","sourcesContent":["/*\n * Created by Ren on 2018/6/7.\n */\nlet AcceleratorConfig = require(\"AcceleratorConfig\");\nlet ToolConfig = require(\"ToolConfig\");\nlet AttributeConfig = require(\"AttributeConfig\");\nlet EfficiencyConfig = require(\"EfficiencyConfig\");\nlet GameType = require(\"GameType\");\nlet SpriteFrameCenter = require(\"SpriteFrameCenter\");\nlet LanguageConfig = require(\"LanguageConfig\");\nconst config=[AcceleratorConfig,ToolConfig,EfficiencyConfig];\nlet Global = require(\"Global\");\nlet GameUtils = require(\"GameUtils\");\n\ncc.Class({\n    extends:cc.Component,\n\n    properties:{\n        title:cc.Label,\n        icon:cc.Sprite,\n        iconLabel:cc.Label,\n        desc_1:cc.Label,\n        btn:cc.Button,\n        progressBar:cc.ProgressBar,\n        btntext:cc.Label,\n        iconGem:cc.Sprite,\n        iconlead:cc.Node,\n        icon_gold:cc.Sprite,\n        type:{\n            visible:false,\n            default:2\n        },\n        language:{\n            visible:false,\n            default:\"English\"\n        },\n        ID: {\n            visible: false,\n            default: 1\n        },\n        eventcallback:{\n            visible: false,\n            default: null\n        },\n        checkisrun:{\n            visible:false,\n            default:false\n        },\n        lockState:{\n            visible:false,\n            default:false\n        },\n        // GameState:{\n        //     visible:false,\n        //     default:2\n        // }\n\n    },\n    onLoad:function(){\n        //0 can't active 1: can active 2:have active but can't upgrad,3:have active but can't upgrad,4:max\n        this.GameState = 2;\n    },\n    init: function(){\n    },\n\n    setIcon:function(){\n        let pngname;\n        var bool = GameType.bottomRadio.Efficiency == this.type;\n        this.icon.node.active = !bool;\n        this.iconLabel.node.active = bool;\n        this.icon_gold.node.active = false;\n        if(this.GameState == 0 ){\n            let iconpng = config[this.type][this.ID].locked;\n            this.icon.spriteFrame = SpriteFrameCenter.getFrameFromAtlas(\"png/box\",iconpng+\".png\");\n            return;\n        }\n        if(bool){\n            let coin = config[this.type][this.ID].coin;\n            if(coin >0){\n                pngname = \"X\"+coin;\n                this.icon_gold.node.active = true;\n                this.iconLabel.node.x= -30;\n            }else{\n                let jumptime = config[this.type][this.ID].jumptime;\n                pngname = this.formatDayTest(jumptime);\n                this.iconLabel.node.x= -50;\n                // pngname = \"x\"+config[this.type][this.ID].jumptime;\n            }\n            this.iconLabel.string =pngname;\n\n        }else{\n                pngname = config[this.type][this.ID].icon;\n            this.icon.spriteFrame = SpriteFrameCenter.getFrameFromAtlas(\"png/box\",pngname+\".png\");\n        }\n    },\n    setBtnIcon:function(num){\n        this.btnname=['btn_heise','btn_juhuang','btn_lanse'];\n        // this.btn.sp.spriteFrame =SpriteFrameCenter.getFrameFromAtlas(\"png/box\",this.btnname[num]+\".png\");\n        this.btn.normalSprite =SpriteFrameCenter.getFrameFromAtlas(\"png/box\",this.btnname[num]+\".png\");\n        this.btn.pressedSprite =SpriteFrameCenter.getFrameFromAtlas(\"png/box\",this.btnname[num]+\".png\");\n        this.btn.hoverSprite =SpriteFrameCenter.getFrameFromAtlas(\"png/box\",this.btnname[num]+\".png\");\n    },\n    setDesc_1:function() {\n        let desc;\n        let attnum;\n        this.desc_1.node.active = this.GameState != 0 ;\n        if(this.type != 1){\n            desc = config[this.type][this.ID].desc;\n        }else{\n\n            if(Global.hammer[this.ID] != null){\n                attnum = Global.hammer[this.ID].attribute;\n            }else{\n                attnum =config[this.type][this.ID].attribute;\n            }\n            desc = AttributeConfig[attnum].desc;\n\n        }\n        if(!desc){\n            this.desc_1.string = \"config fault\";\n            return;\n        }\n        if(LanguageConfig[desc] && LanguageConfig[desc][Global.language]){\n            desc=  LanguageConfig[desc][Global.language];\n        }\n        if(this.type == 0 ){\n            if(config[this.type][this.ID].speed>0)\n                desc= this.formatPrint(desc,config[this.type][this.ID].speed,config[this.type][this.ID].coin);\n            else\n                desc= this.formatPrint(desc,config[this.type][this.ID].coin);\n        }else if(this.type == 1){\n            desc= this.formatPrint(desc,AttributeConfig[attnum].att,AttributeConfig[attnum].time);\n\n        }else{\n            if(config[this.type][this.ID].time>0){\n                desc= this.formatPrint(desc,config[this.type][this.ID].time);\n            }else{\n                desc= this.formatPrint(desc,config[this.type][this.ID].jumptime);\n            }\n        }\n        this.desc_1.string = desc;\n    },\n    setTitle:function (){\n        this.title.node.active =  this.GameState != 0 ;\n        let title  = config[this.type][this.ID].title;\n        if(title == null || title == undefined){\n            title = \"unknow\";\n        }else if(LanguageConfig[title] && LanguageConfig[title][Global.language]){\n\n            title = LanguageConfig[title][Global.language];\n        }\n        if(this.type == 2 &&config[this.type][this.ID].coin>0){\n\n            title=this.formatPrint(title,config[this.type][this.ID].coin);\n        }\n        this.title.string = title;\n    },\n    setBtnVisible:function(bool){\n        this.btn.node.active= bool;\n    },\n    setConfigInfo:function (type,info,callback){\n        this.type = type;\n        this.ID = info.id;\n\n        // this.setBtnVisible(true);\n        this.eventcallback = callback;\n        this.setBtnState();\n        if(this.type ==1){\n            this.setBtnIcon(2);\n        }else if(this.type == 1){\n            this.setBtnIcon(1);\n\n        }\n    },\n    setBtnState:function(){\n\n        switch(this.type){\n            case 0:\n                this.setType0BtnState();\n                break;\n            case 1:\n                this.setType1BtnState();\n                break;\n            case 2:\n\n                this.setType2BtnState();\n\n                break;\n        }\n        this.setTitle();\n        this.setDesc_1();\n        this.setIcon();\n        this.setLeadState();\n\n    },\n    setType0BtnState:function(){\n        if(this.checkisrun)\n            return;\n        let btntextColor=['#000000','#ffffff',];\n        let conf = AcceleratorConfig[this.ID];\n        let bool = Global['bar'+this.ID] <= 0;\n        if(bool){\n            this.btntext.string =GameUtils.formatTime(conf.time);\n            this.btntext.node.color = new cc.Color(btntextColor[1]);\n        }else{\n            this.btntext.string =GameUtils.formatTime(Global['bar'+this.ID]);\n            this.btntext.node.color = new cc.Color(btntextColor[0]);\n        }\n        this.btn.node.active = bool;\n        this.progressBar.node.active = !bool;\n        this.progressBar.progress = Global['bar'+this.ID]/conf.time;\n        let self = this;\n        this.callback = function(){\n            Global['bar'+self.ID]--;\n            self.btntext.string = GameUtils.formatTime(Global['bar'+self.ID]);\n\n            self.progressBar.progress = Global['bar'+this.ID]/conf.time;\n            if(Global['bar'+self.ID] <=0){\n\n                this.unschedule(this.callback);\n                this.checkisrun= false;\n                self.eventcallback(this.type,self.ID,'finish');\n            }\n\n        }\n        if(!bool){\n            this.checkisrun= true;\n            this.schedule(this.callback,1)\n        }\n    },\n    setType1BtnState:function(){\n        let level = Global.level;\n        let conf = ToolConfig[this.ID];\n        let thisID;\n        let confArry;\n        if(\"unlock\" in conf){\n            if(conf.unlock.indexOf(\";\") != -1){\n                confArry = conf.unlock.split(\";\");\n                thisID=confArry[0];\n            }else{\n                thisID=parseInt(conf.unlock);\n            }\n            if(thisID == -1) {\n                return;\n            }\n            let active = false;\n            if(Global.hammer[this.ID] == null || Global.hammer[this.ID]  == undefined){//没有激活\n                let iconpng = config[this.type][this.ID].locked;\n                if(thisID == 0){//点击激活\n                    this.btntext.string= LanguageConfig['10020'][Global.language];\n                    this.GameState = 1;\n                }else if(thisID == 1){//视频激励\n\n                    if(Global.hammer[this.ID-1]){\n                         this.GameState = 1;\n                         if(Global.openAdTimes>0){//看广告了\n                             this.btntext.string= LanguageConfig['10020'][Global.language];\n                         }else{//没看\n                             this.btntext.string= LanguageConfig['10022'][Global.language];\n                         }\n\n                    }else{\n                        this.btntext.string= LanguageConfig['10022'][Global.language];\n                        this.GameState = 0;\n                    }\n                }else if(thisID == 2){//等级激活\n                    let needlvl = confArry[1];\n                    let str= LanguageConfig['10021'][Global.language];\n                    if(level<needlvl){\n                        this.GameState = 0;\n                        this.btntext.string=this.formatPrint(str,needlvl);\n                    }else{\n                        if(Global.hammer[this.ID-1]){\n                            this.GameState = 1;\n                            this.btntext.string= LanguageConfig['10020'][Global.language];\n                        }else{\n                            this.GameState = 0;\n\n                            this.btntext.string=this.formatPrint(str,needlvl);\n                        }\n                    }\n                }else if(thisID == 3){//邀请好友\n                    if(Global.freindsInfo == null || Global.freindsInfo[this.ID] ==  null ||Global.freindsInfo[this.ID].length==0 ){\n                        this.btntext.string= LanguageConfig['10023'][Global.language];\n                    }else if(confArry[1]>Global.freindsInfo[this.ID].length){\n                        this.btntext.string= Global.freindsInfo[this.ID].length+'／'+confArry[1];\n                    }else{//邀请的数量够\n                        this.btntext.string= LanguageConfig['10020'][Global.language];\n                    }\n                    if(Global.hammer[this.ID-1]){\n                        this.GameState = 1;\n                    }else{\n                        this.GameState = 0;\n                    }\n                }\n            } else if(  AttributeConfig[Global.hammer[this.ID].attribute].next == -1){//达到最大\n                this.GameState = 4;\n                this.btntext.string = LanguageConfig['10024'][Global.language];\n            }\n            else {//升级条件\n                let conf1 = AttributeConfig[Global.hammer[this.ID].attribute];\n                if (conf1.costtype = 1001) {\n                    if (Global.gold > conf1.cost) {\n                         this.GameState = 3;\n                    } else {\n                        this.GameState = 2;\n                    }\n                    this.btntext.string = GameUtils.formatNumMAX(conf1.cost);\n                }\n            }\n\n        }\n        this.ButtonState();\n\n    },\n    setType2BtnState:function(){\n        let bool = Global.efficiency[this.ID] != undefined && Global.efficiency[this.ID] != null;\n        let conf = EfficiencyConfig[this.ID];\n        this.btn.node.active = !bool;\n        this.progressBar.node.active = bool;\n        if(bool){\n            let timeleft = Global.efficiency[this.ID].timeleft;\n            let bool= timeleft>0;\n            if( timeleft>0){\n                let self = this;\n                self.btntext.string = GameUtils.formatTime(timeleft*60);\n                self.progressBar.progress =  timeleft/conf.time;\n                this.callback = function(){\n                    if(Global.efficiency[this.ID] != null){\n                        timeleft = Global.efficiency[this.ID].timeleft;\n                        timeleft=parseInt(timeleft-1);\n                        self.btntext.string = GameUtils.formatTime(timeleft*60);\n                        self.progressBar.progress =  timeleft/conf.time;\n                        if(timeleft >0){\n                            Global.efficiency[this.ID].timeleft-=1;\n                            Global.saveEfficiency(Global.efficiency);\n                        }else {\n                            Global.efficiency[this.ID] = null;\n                            Global.saveEfficiency(Global.efficiency);\n                            this.checkisrun= false;\n                            this.unschedule(this.callback);\n                            self.eventcallback(this.type,self.ID,'finish');\n\n                        }\n                    }\n                }\n                if(!this.checkisrun && bool){\n                    this.checkisrun = true;\n                    this.schedule(this.callback,60);\n                }\n            }\n            this.iconGem.node.active = false;\n        }else{\n\n            if(conf.costtype == 1002){\n                if(Global.gem>= conf.cost){\n                    // this.ButtonState(1);\n                    this.GameState = 3;\n                }\n                else{\n                    // this.ButtonState(0);\n                    this.GameState = 2;\n                }\n                this.btntext.string = GameUtils.formatNum(conf.cost);\n                this.iconGem.node.active = true;\n            }\n        }\n        this.ButtonState();\n    },\n    //this.GameState = 1.3是可以点击的\n    ButtonState:function(){\n        let v=  this.GameState == 1 || this.GameState==3;\n        if(v){\n            this.btn.interactable = true;\n        }else{\n            this.btn.interactable = false;\n        }\n    },\n    onClickButton:function(){\n        this.eventcallback(this.type,this.ID);\n    },\n    formatPrint:function() {\n        var num = arguments.length;\n\n        var oStr = arguments[0];\n\n        for (var i = 1; i < num; i++) {\n            oStr = oStr.replace(/s%/, arguments[i]);\n        }\n\n        return oStr;\n    },\n    formatDayTest:function(jumptime) {\n        let str = \"\";\n        let jumpstr = \"\";\n        if (jumptime >= 24) {\n            str = LanguageConfig['10025'][Global.language];\n            str = this.formatPrint(str, Math.floor(jumptime / 24));\n            jumpstr += str;\n            jumptime %= 24;\n\n        }\n        if (jumptime > 0) {\n            str = LanguageConfig['10019'][Global.language];\n            str = this.formatPrint(str, jumptime);\n            jumpstr += str;\n        }\n        return jumpstr;\n    },\n    setLeadState:function(){\n        this.iconlead.active = this.GameState == 1;\n    }\n})"]}